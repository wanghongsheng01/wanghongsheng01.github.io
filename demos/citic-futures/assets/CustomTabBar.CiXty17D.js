import{d as a,r as e,c as t,a1 as s,e as n,J as c,f as l,i as r,w as i,g as o,x as u,y as g,F as p,a3 as f,Q as h,n as d,j as x,k as b,t as v,B as m,a as _}from"./index-BWcxsYn8.js";import{_ as P}from"./_plugin-vue_export-helper.BCo6x5W8.js";const y=P(a({__name:"CustomTabBar",setup(a){const P=[{pagePath:"/pages/home/index",icon:"fa-home",text:"首页"},{pagePath:"/pages/quiz/index",icon:"fa-question-circle",text:"问答"},{pagePath:"/pages/training/index",icon:"fa-chart-line",text:"训练"},{pagePath:"/pages/profile/index",icon:"fa-user",text:"我的"}],y=a=>{const e=a.replace(/\.vue$/,""),t=[e,"/"+e];return P.findIndex(a=>t.includes(a.pagePath)||t.includes(a.pagePath.replace(/^\//,"")))},k=e((()=>{try{const a=f();if(a.length>0){const e=a[a.length-1],t=y(e.route||"");if(-1!==t)return t}}catch(a){}return 0})()),C=e((()=>{try{const a=f();if(a.length>0)return a[a.length-1].route||""}catch(a){}return""})()),j=t(()=>"pages/home/index"===C.value||"/pages/home/index"===C.value);return s(()=>{h(()=>{try{const a=f();if(a.length){const e=a[a.length-1].route||"";C.value=e;const t=y(e);-1!==t&&(k.value=t)}}catch(a){}})}),(a,e)=>{const t=x,s=r;return j.value?(l(),n(s,{key:0,class:"custom-tabbar"},{default:i(()=>[o(s,{class:"tabbar-container"},{default:i(()=>[(l(),u(p,null,g(P,(a,e)=>o(s,{key:e,class:d(["tabbar-item",{active:k.value===e}]),onClick:t=>((a,e)=>{k.value!==e&&(k.value=e,m({url:a,fail:()=>{_({url:a})}}))})(a.pagePath,e)},{default:i(()=>[o(s,{class:"tabbar-icon-container"},{default:i(()=>[o(t,{class:d(["fa",a.icon,"fa-lg","tabbar-fa-icon"])},null,8,["class"])]),_:2},1024),o(t,{class:d(["tabbar-text",{"active-text":k.value===e}])},{default:i(()=>[b(v(a.text),1)]),_:2},1032,["class"])]),_:2},1032,["class","onClick"])),64))]),_:1})]),_:1})):c("",!0)}}}),[["__scopeId","data-v-d3acbeb4"]]);export{y as C};
