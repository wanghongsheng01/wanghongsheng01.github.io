import{d as a,r as t,o as s,E as e,G as l,H as u,s as c,e as o,w as r,i as n,f as i,g as d,j as _,k as f,t as g,J as v,l as y,B as p,A as w,L as b}from"./index-BWcxsYn8.js";import{N as m}from"./NavigationBar.BembfXLU.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h=C(a({__name:"result",setup(a){const C=t({totalQuestions:0,correctCount:0,wrongCount:0,accuracy:0,wrongQuestions:[],category:"",sessionId:""});s(()=>{h()});const h=()=>{try{const a=e("quizResult");if(!a)return void l({title:"æç¤º",content:"æœªæ‰¾åˆ°ç­”é¢˜ç»“æœï¼Œè¯·é‡æ–°ç­”é¢˜",showCancel:!1,success:()=>{u()}});const t=a.answerRecordTotal||0,s=a.answerCorrectRecordTotal||0,c=a.answerErrorRecordTotal||0,o=null!==a.accuracyRate&&void 0!==a.accuracyRate?a.accuracyRate:t>0?s/t:0;C.value={totalQuestions:t,correctCount:s,wrongCount:c,accuracy:Math.round(100*o),wrongQuestions:[],category:a.category||"",batchNumber:a.batchNumber||""}}catch(a){console.error("åŠ è½½ç­”é¢˜ç»“æœå¤±è´¥:",a),c({title:"åŠ è½½ç»“æœå¤±è´¥",icon:"none"})}},R=()=>{const a=C.value.accuracy;return a>=90?"ä¼˜ç§€ï¼":a>=80?"è‰¯å¥½ï¼":a>=70?"åˆæ ¼":a>=60?"éœ€è¦åŠ æ²¹":"éœ€è¦åŠªåŠ›"},x=()=>{const a=C.value.accuracy;return C.value.wrongCount,a>=90?"è¡¨ç°ä¼˜ç§€ï¼ç»§ç»­ä¿æŒè¿™ç§å­¦ä¹ çŠ¶æ€ï¼Œä½ å·²ç»æŒæ¡äº†å¤§éƒ¨åˆ†çŸ¥è¯†ç‚¹ã€‚":a>=80?"è¡¨ç°è‰¯å¥½ï¼å¤§éƒ¨åˆ†çŸ¥è¯†ç‚¹éƒ½æŒæ¡äº†ï¼Œç»§ç»­å·©å›ºè–„å¼±ç¯èŠ‚ã€‚":a>=70?"åŸºæœ¬åˆæ ¼ï¼Œè¿˜æœ‰æå‡ç©ºé—´ã€‚å»ºè®®é‡ç‚¹å¤ä¹ é”™é¢˜ï¼ŒåŠ å¼ºè–„å¼±çŸ¥è¯†ç‚¹ã€‚":a>=60?"éœ€è¦åŠ æ²¹ï¼å»ºè®®ç³»ç»Ÿå¤ä¹ ç›¸å…³çŸ¥è¯†ç‚¹ï¼Œå¤šåšç»ƒä¹ å·©å›ºã€‚":"éœ€è¦åŠªåŠ›ï¼å»ºè®®ä»åŸºç¡€çŸ¥è¯†å¼€å§‹ï¼Œè®¤çœŸå­¦ä¹ æ¯ä¸ªçŸ¥è¯†ç‚¹ã€‚"},Q=()=>{C.value.accuracy;const a=C.value.wrongCount;return 0===a?"æ­å–œå…¨éƒ¨ç­”å¯¹ï¼å¯ä»¥å°è¯•æ›´é«˜éš¾åº¦çš„é¢˜ç›®ï¼ŒæŒ‘æˆ˜è‡ªå·±ã€‚":a<=2?"è¡¨ç°å¾ˆå¥½ï¼å»ºè®®å›é¡¾é”™é¢˜ï¼Œç†è§£é”™è¯¯åŸå› ï¼Œé¿å…ç±»ä¼¼é—®é¢˜ã€‚":a<=5?"è¿˜ä¸é”™ï¼å»ºè®®é’ˆå¯¹é”™é¢˜è¿›è¡Œä¸“é¡¹ç»ƒä¹ ï¼Œå·©å›ºç›¸å…³çŸ¥è¯†ç‚¹ã€‚":"éœ€è¦åŠ å¼ºå­¦ä¹ ï¼å»ºè®®ç³»ç»Ÿå¤ä¹ åŸºç¡€çŸ¥è¯†ï¼Œå¤šåšç»ƒä¹ é¢˜æé«˜ç†Ÿç»ƒåº¦ã€‚"},k=()=>{p({url:"/pages/quiz/index"})},q=()=>{w({url:"/pages/quiz/wrong-book"})},z=()=>{b("quizResult"),p({url:"/pages/quiz/index"})};return(a,t)=>{const s=_,e=n,l=y;return i(),o(e,{class:"result-page"},{default:r(()=>[d(m,{title:"ç­”é¢˜ç»“æœ"}),d(e,{class:"page-content"},{default:r(()=>[d(e,{class:"result-container"},{default:r(()=>[d(e,{class:"trophy-icon"},{default:r(()=>[d(s,{class:"trophy"},{default:r(()=>[f("ğŸ†")]),_:1})]),_:1}),d(s,{class:"result-title"},{default:r(()=>[f("æœ¬æ¬¡ç»ƒä¹ æˆç»©")]),_:1}),d(s,{class:"result-subtitle"},{default:r(()=>[f("å…±"+g(C.value.totalQuestions)+"é¢˜ï¼Œç­”é¢˜å·²å®Œæˆ",1)]),_:1}),d(e,{class:"stats-container"},{default:r(()=>[d(e,{class:"stat-item"},{default:r(()=>[d(s,{class:"stat-value correct"},{default:r(()=>[f(g(C.value.correctCount),1)]),_:1}),d(s,{class:"stat-label"},{default:r(()=>[f("ç­”å¯¹é¢˜æ•°")]),_:1})]),_:1}),d(e,{class:"stat-item"},{default:r(()=>[d(s,{class:"stat-value wrong"},{default:r(()=>[f(g(C.value.wrongCount),1)]),_:1}),d(s,{class:"stat-label"},{default:r(()=>[f("ç­”é”™é¢˜æ•°")]),_:1})]),_:1}),d(e,{class:"stat-item"},{default:r(()=>[d(s,{class:"stat-value accuracy"},{default:r(()=>[f(g(C.value.accuracy)+"%",1)]),_:1}),d(s,{class:"stat-label"},{default:r(()=>[f("æ­£ç¡®ç‡")]),_:1})]),_:1})]),_:1}),d(e,{class:"evaluation-card"},{default:r(()=>[d(s,{class:"evaluation-title"},{default:r(()=>[f(g(R()),1)]),_:1}),d(s,{class:"evaluation-text"},{default:r(()=>[f(g(x()),1)]),_:1})]),_:1})]),_:1}),d(e,{class:"action-buttons"},{default:r(()=>[d(l,{class:"action-btn primary",onClick:k},{default:r(()=>[f(" è¿”å›é¦–é¡µ ")]),_:1}),C.value.wrongQuestions&&C.value.wrongQuestions.length>0?(i(),o(l,{key:0,class:"action-btn secondary",onClick:q},{default:r(()=>[f(" æŸ¥çœ‹é”™é¢˜æœ¬ ")]),_:1})):v("",!0),d(l,{class:"action-btn outline",onClick:z},{default:r(()=>[f(" å†æ¥ä¸€æ¬¡ ")]),_:1})]),_:1}),d(e,{class:"suggestion-card"},{default:r(()=>[d(e,{class:"suggestion-header"},{default:r(()=>[d(s,{class:"suggestion-icon"},{default:r(()=>[f("ğŸ’¡")]),_:1}),d(s,{class:"suggestion-title"},{default:r(()=>[f("å­¦ä¹ å»ºè®®")]),_:1})]),_:1}),d(s,{class:"suggestion-text"},{default:r(()=>[f(g(Q()),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-dd05475e"]]);export{h as default};
