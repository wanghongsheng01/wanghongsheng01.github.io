import{d as a,r as t,o as s,E as e,G as l,H as u,s as c,e as o,w as r,i as n,f as i,g as d,j as _,k as f,t as g,J as v,l as y,B as p,A as w,L as b}from"./index-BWcxsYn8.js";import{N as m}from"./NavigationBar.BembfXLU.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h=C(a({__name:"result",setup(a){const C=t({totalQuestions:0,correctCount:0,wrongCount:0,accuracy:0,wrongQuestions:[],category:"",sessionId:""});s(()=>{h()});const h=()=>{try{const a=e("quizResult");if(!a)return void l({title:"提示",content:"未找到答题结果，请重新答题",showCancel:!1,success:()=>{u()}});const t=a.answerRecordTotal||0,s=a.answerCorrectRecordTotal||0,c=a.answerErrorRecordTotal||0,o=null!==a.accuracyRate&&void 0!==a.accuracyRate?a.accuracyRate:t>0?s/t:0;C.value={totalQuestions:t,correctCount:s,wrongCount:c,accuracy:Math.round(100*o),wrongQuestions:[],category:a.category||"",batchNumber:a.batchNumber||""}}catch(a){console.error("加载答题结果失败:",a),c({title:"加载结果失败",icon:"none"})}},R=()=>{const a=C.value.accuracy;return a>=90?"优秀！":a>=80?"良好！":a>=70?"合格":a>=60?"需要加油":"需要努力"},x=()=>{const a=C.value.accuracy;return C.value.wrongCount,a>=90?"表现优秀！继续保持这种学习状态，你已经掌握了大部分知识点。":a>=80?"表现良好！大部分知识点都掌握了，继续巩固薄弱环节。":a>=70?"基本合格，还有提升空间。建议重点复习错题，加强薄弱知识点。":a>=60?"需要加油！建议系统复习相关知识点，多做练习巩固。":"需要努力！建议从基础知识开始，认真学习每个知识点。"},Q=()=>{C.value.accuracy;const a=C.value.wrongCount;return 0===a?"恭喜全部答对！可以尝试更高难度的题目，挑战自己。":a<=2?"表现很好！建议回顾错题，理解错误原因，避免类似问题。":a<=5?"还不错！建议针对错题进行专项练习，巩固相关知识点。":"需要加强学习！建议系统复习基础知识，多做练习题提高熟练度。"},k=()=>{p({url:"/pages/quiz/index"})},q=()=>{w({url:"/pages/quiz/wrong-book"})},z=()=>{b("quizResult"),p({url:"/pages/quiz/index"})};return(a,t)=>{const s=_,e=n,l=y;return i(),o(e,{class:"result-page"},{default:r(()=>[d(m,{title:"答题结果"}),d(e,{class:"page-content"},{default:r(()=>[d(e,{class:"result-container"},{default:r(()=>[d(e,{class:"trophy-icon"},{default:r(()=>[d(s,{class:"trophy"},{default:r(()=>[f("🏆")]),_:1})]),_:1}),d(s,{class:"result-title"},{default:r(()=>[f("本次练习成绩")]),_:1}),d(s,{class:"result-subtitle"},{default:r(()=>[f("共"+g(C.value.totalQuestions)+"题，答题已完成",1)]),_:1}),d(e,{class:"stats-container"},{default:r(()=>[d(e,{class:"stat-item"},{default:r(()=>[d(s,{class:"stat-value correct"},{default:r(()=>[f(g(C.value.correctCount),1)]),_:1}),d(s,{class:"stat-label"},{default:r(()=>[f("答对题数")]),_:1})]),_:1}),d(e,{class:"stat-item"},{default:r(()=>[d(s,{class:"stat-value wrong"},{default:r(()=>[f(g(C.value.wrongCount),1)]),_:1}),d(s,{class:"stat-label"},{default:r(()=>[f("答错题数")]),_:1})]),_:1}),d(e,{class:"stat-item"},{default:r(()=>[d(s,{class:"stat-value accuracy"},{default:r(()=>[f(g(C.value.accuracy)+"%",1)]),_:1}),d(s,{class:"stat-label"},{default:r(()=>[f("正确率")]),_:1})]),_:1})]),_:1}),d(e,{class:"evaluation-card"},{default:r(()=>[d(s,{class:"evaluation-title"},{default:r(()=>[f(g(R()),1)]),_:1}),d(s,{class:"evaluation-text"},{default:r(()=>[f(g(x()),1)]),_:1})]),_:1})]),_:1}),d(e,{class:"action-buttons"},{default:r(()=>[d(l,{class:"action-btn primary",onClick:k},{default:r(()=>[f(" 返回首页 ")]),_:1}),C.value.wrongQuestions&&C.value.wrongQuestions.length>0?(i(),o(l,{key:0,class:"action-btn secondary",onClick:q},{default:r(()=>[f(" 查看错题本 ")]),_:1})):v("",!0),d(l,{class:"action-btn outline",onClick:z},{default:r(()=>[f(" 再来一次 ")]),_:1})]),_:1}),d(e,{class:"suggestion-card"},{default:r(()=>[d(e,{class:"suggestion-header"},{default:r(()=>[d(s,{class:"suggestion-icon"},{default:r(()=>[f("💡")]),_:1}),d(s,{class:"suggestion-title"},{default:r(()=>[f("学习建议")]),_:1})]),_:1}),d(s,{class:"suggestion-text"},{default:r(()=>[f(g(Q()),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-dd05475e"]]);export{h as default};
